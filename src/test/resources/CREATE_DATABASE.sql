SET DB_CLOSE_DELAY -1;        
;             
CREATE USER IF NOT EXISTS CAVAVIN SALT '35a8fae3048135a7' HASH '831d4a545cdc85d530459df85bac00f03670251ef2cda72381dc3f0c04f230d9' ADMIN;      
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_F5A21D56_B0EE_4B4D_8D89_C57794A8B047 START WITH 3 BELONGS_TO_TABLE;    
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_75EBA6F3_8E8E_427C_B940_97476D606BBA START WITH 1 BELONGS_TO_TABLE;    
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_37C9D658_0823_4FA3_966F_FC01948CE083 START WITH 1 BELONGS_TO_TABLE;    
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_D5C4ED73_DFEC_4227_940A_C72712B74C71 START WITH 1 BELONGS_TO_TABLE;    
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_F4EFF45F_941B_476F_BFC0_B7A493ACCB16 START WITH 1 BELONGS_TO_TABLE;    
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_07317D71_9EFF_4DE2_9D42_A85F0BCBF1BB START WITH 5 BELONGS_TO_TABLE;    
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_6154EA82_44CD_49AA_B83A_228D93BAF65F START WITH 1 BELONGS_TO_TABLE;    
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_06AF0EE8_BAA0_4967_86AD_F5DB8B7445F8 START WITH 133 BELONGS_TO_TABLE;  
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_C498D05B_0D51_4FFC_B097_01FC871EE4B7 START WITH 1 BELONGS_TO_TABLE;    
CREATE CACHED TABLE PUBLIC.DATABASECHANGELOGLOCK(
    ID INT NOT NULL,
    LOCKED BOOLEAN NOT NULL,
    LOCKGRANTED TIMESTAMP,
    LOCKEDBY VARCHAR(255)
);              
ALTER TABLE PUBLIC.DATABASECHANGELOGLOCK ADD CONSTRAINT PUBLIC.PK_DATABASECHANGELOGLOCK PRIMARY KEY(ID);      
-- 1 +/- SELECT COUNT(*) FROM PUBLIC.DATABASECHANGELOGLOCK;   
INSERT INTO PUBLIC.DATABASECHANGELOGLOCK(ID, LOCKED, LOCKGRANTED, LOCKEDBY) VALUES
(1, FALSE, NULL, NULL);   
CREATE CACHED TABLE PUBLIC.DATABASECHANGELOG(
    ID VARCHAR(255) NOT NULL,
    AUTHOR VARCHAR(255) NOT NULL,
    FILENAME VARCHAR(255) NOT NULL,
    DATEEXECUTED TIMESTAMP NOT NULL,
    ORDEREXECUTED INT NOT NULL,
    EXECTYPE VARCHAR(10) NOT NULL,
    MD5SUM VARCHAR(35),
    DESCRIPTION VARCHAR(255),
    COMMENTS VARCHAR(255),
    TAG VARCHAR(255),
    LIQUIBASE VARCHAR(20),
    CONTEXTS VARCHAR(255),
    LABELS VARCHAR(255),
    DEPLOYMENT_ID VARCHAR(10)
);               
-- 12 +/- SELECT COUNT(*) FROM PUBLIC.DATABASECHANGELOG;      
INSERT INTO PUBLIC.DATABASECHANGELOG(ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, EXECTYPE, MD5SUM, DESCRIPTION, COMMENTS, TAG, LIQUIBASE, CONTEXTS, LABELS, DEPLOYMENT_ID) VALUES
('00000000000001', 'jhipster', 'classpath:config/liquibase/changelog/00000000000000_initial_schema.xml', TIMESTAMP '2016-12-15 20:41:32.31', 1, 'EXECUTED', '7:cb7672303729a0f5fb5ec92c668408f4', 'createTable tableName=jhi_user; createIndex indexName=idx_user_login, tableName=jhi_user; createIndex indexName=idx_user_email, tableName=jhi_user; createTable tableName=jhi_authority; createTable tableName=jhi_user_authority; addPrimaryKey tableN...', '', NULL, '3.5.3', NULL, NULL, '1830891919'),
('20161204094527-1', 'jhipster', 'classpath:config/liquibase/changelog/20161204094527_added_entity_Region.xml', TIMESTAMP '2016-12-15 20:41:32.316', 2, 'EXECUTED', '7:1639547465e77cd1a7e6493a160131bb', 'createTable tableName=region', '', NULL, '3.5.3', NULL, NULL, '1830891919'),
('20161204094528-1', 'jhipster', 'classpath:config/liquibase/changelog/20161204094528_added_entity_Color.xml', TIMESTAMP '2016-12-15 20:41:32.321', 3, 'EXECUTED', '7:2336b4b245037073e39aacbd4d8e4a7b', 'createTable tableName=color', '', NULL, '3.5.3', NULL, NULL, '1830891919'),
('20161204094529-1', 'jhipster', 'classpath:config/liquibase/changelog/20161204094529_added_entity_Year.xml', TIMESTAMP '2016-12-15 20:41:32.325', 4, 'EXECUTED', '7:0f349d23d7ebb3ed95bcf3b24030a9a7', 'createTable tableName=year', '', NULL, '3.5.3', NULL, NULL, '1830891919'),
('20161204094530-1', 'jhipster', 'classpath:config/liquibase/changelog/20161204094530_added_entity_Wine.xml', TIMESTAMP '2016-12-15 20:41:32.345', 5, 'EXECUTED', '7:8055160be5d5a6dc1a87e59a843ffc1d', 'createTable tableName=wine', '', NULL, '3.5.3', NULL, NULL, '1830891919'),
('20161204094531-1', 'jhipster', 'classpath:config/liquibase/changelog/20161204094531_added_entity_Vintage.xml', TIMESTAMP '2016-12-15 20:41:32.353', 6, 'EXECUTED', '7:d830dd0190d8528b7a18241bb1504162', 'createTable tableName=vintage', '', NULL, '3.5.3', NULL, NULL, '1830891919'),
('20161204094532-1', 'jhipster', 'classpath:config/liquibase/changelog/20161204094532_added_entity_WineInCellar.xml', TIMESTAMP '2016-12-15 20:41:32.36', 7, 'EXECUTED', '7:4a7e6a23c479d4c9ebe42262d6fbc255', 'createTable tableName=wine_in_cellar', '', NULL, '3.5.3', NULL, NULL, '1830891919'),
('20161204094533-1', 'jhipster', 'classpath:config/liquibase/changelog/20161204094533_added_entity_Cellar.xml', TIMESTAMP '2016-12-15 20:41:32.37', 8, 'EXECUTED', '7:20097acda51a62f982a9cfbfe9719af2', 'createTable tableName=cellar', '', NULL, '3.5.3', NULL, NULL, '1830891919'),
('20161204094530-2', 'jhipster', 'classpath:config/liquibase/changelog/20161204094530_added_entity_constraints_Wine.xml', TIMESTAMP '2016-12-15 20:41:32.405', 9, 'EXECUTED', '7:0baf67125a10c4d2d89fa9c689030965', 'addForeignKeyConstraint baseTableName=wine, constraintName=fk_wine_region_id, referencedTableName=region; addForeignKeyConstraint baseTableName=wine, constraintName=fk_wine_color_id, referencedTableName=color', '', NULL, '3.5.3', NULL, NULL, '1830891919'),
('20161204094531-2', 'jhipster', 'classpath:config/liquibase/changelog/20161204094531_added_entity_constraints_Vintage.xml', TIMESTAMP '2016-12-15 20:41:32.445', 10, 'EXECUTED', '7:c8374ff44faa5361584d3b4e1e9e33b2', 'addForeignKeyConstraint baseTableName=vintage, constraintName=fk_vintage_year_id, referencedTableName=year; addForeignKeyConstraint baseTableName=vintage, constraintName=fk_vintage_max_keep_id, referencedTableName=year; addForeignKeyConstraint bas...', '', NULL, '3.5.3', NULL, NULL, '1830891919'),
('20161204094532-2', 'jhipster', 'classpath:config/liquibase/changelog/20161204094532_added_entity_constraints_WineInCellar.xml', TIMESTAMP '2016-12-15 20:41:32.458', 11, 'EXECUTED', '7:61069e709186ddd8556c8c3511e455e5', 'addForeignKeyConstraint baseTableName=wine_in_cellar, constraintName=fk_wine_in_cellar_cellar_id, referencedTableName=cellar; addForeignKeyConstraint baseTableName=wine_in_cellar, constraintName=fk_wine_in_cellar_vintage_id, referencedTableName=vi...', '', NULL, '3.5.3', NULL, NULL, '1830891919');              
INSERT INTO PUBLIC.DATABASECHANGELOG(ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, EXECTYPE, MD5SUM, DESCRIPTION, COMMENTS, TAG, LIQUIBASE, CONTEXTS, LABELS, DEPLOYMENT_ID) VALUES
('20161204094533-2', 'jhipster', 'classpath:config/liquibase/changelog/20161204094533_added_entity_constraints_Cellar.xml', TIMESTAMP '2016-12-15 20:41:32.463', 12, 'EXECUTED', '7:518a519a28a188a32be9a8bb274338bc', 'addForeignKeyConstraint baseTableName=cellar, constraintName=fk_cellar_user_id, referencedTableName=jhi_user', '', NULL, '3.5.3', NULL, NULL, '1830891919');
CREATE CACHED TABLE PUBLIC.JHI_USER(
    ID BIGINT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_07317D71_9EFF_4DE2_9D42_A85F0BCBF1BB) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_07317D71_9EFF_4DE2_9D42_A85F0BCBF1BB,
    LOGIN VARCHAR(50) NOT NULL,
    PASSWORD_HASH VARCHAR(60),
    FIRST_NAME VARCHAR(50),
    LAST_NAME VARCHAR(50),
    EMAIL VARCHAR(100),
    ACTIVATED BOOLEAN NOT NULL,
    LANG_KEY VARCHAR(5),
    ACTIVATION_KEY VARCHAR(20),
    RESET_KEY VARCHAR(20),
    CREATED_BY VARCHAR(50) NOT NULL,
    CREATED_DATE TIMESTAMP DEFAULT NULL NOT NULL,
    RESET_DATE TIMESTAMP,
    LAST_MODIFIED_BY VARCHAR(50),
    LAST_MODIFIED_DATE TIMESTAMP
);               
ALTER TABLE PUBLIC.JHI_USER ADD CONSTRAINT PUBLIC.PK_JHI_USER PRIMARY KEY(ID);
-- 4 +/- SELECT COUNT(*) FROM PUBLIC.JHI_USER;
INSERT INTO PUBLIC.JHI_USER(ID, LOGIN, PASSWORD_HASH, FIRST_NAME, LAST_NAME, EMAIL, ACTIVATED, LANG_KEY, ACTIVATION_KEY, RESET_KEY, CREATED_BY, CREATED_DATE, RESET_DATE, LAST_MODIFIED_BY, LAST_MODIFIED_DATE) VALUES
(1, 'system', '$2a$10$mE.qmcV0mFU5NcKh73TZx.z4ueI/.bDWbj0T1BYyqP481kGGarKLG', 'System', 'System', 'system@localhost', TRUE, 'fr', NULL, NULL, 'system', TIMESTAMP '2016-12-15 20:41:32.246', NULL, 'system', NULL),
(2, 'anonymoususer', '$2a$10$j8S5d7Sr7.8VTOYNviDPOeWX8KcYILUVJBsYV83Y5NtECayypx9lO', 'Anonymous', 'User', 'anonymous@localhost', TRUE, 'fr', NULL, NULL, 'system', TIMESTAMP '2016-12-15 20:41:32.246', NULL, 'system', NULL),
(3, 'admin', '$2a$10$gSAhZrxMllrbgj/kkK9UceBPpChGWJA7SYIb1Mqo.n5aNLq1/oRrC', 'Administrator', 'Administrator', 'admin@localhost', TRUE, 'fr', NULL, NULL, 'system', TIMESTAMP '2016-12-15 20:41:32.246', NULL, 'system', NULL),
(4, 'user', '$2a$10$VEjxo0jq2YG9Rbk2HmX9S.k1uZBGYUHdUcid3g/vfiEl7lwWgOH/K', 'User', 'User', 'user@localhost', TRUE, 'fr', NULL, NULL, 'system', TIMESTAMP '2016-12-15 20:41:32.246', NULL, 'system', NULL);     
CREATE UNIQUE INDEX PUBLIC.IDX_USER_LOGIN ON PUBLIC.JHI_USER(LOGIN);          
CREATE UNIQUE INDEX PUBLIC.IDX_USER_EMAIL ON PUBLIC.JHI_USER(EMAIL);          
CREATE CACHED TABLE PUBLIC.JHI_AUTHORITY(
    NAME VARCHAR(50) NOT NULL
);  
ALTER TABLE PUBLIC.JHI_AUTHORITY ADD CONSTRAINT PUBLIC.PK_JHI_AUTHORITY PRIMARY KEY(NAME);    
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.JHI_AUTHORITY;           
INSERT INTO PUBLIC.JHI_AUTHORITY(NAME) VALUES
('ROLE_ADMIN'),
('ROLE_USER');
CREATE CACHED TABLE PUBLIC.JHI_USER_AUTHORITY(
    USER_ID BIGINT NOT NULL,
    AUTHORITY_NAME VARCHAR(50) NOT NULL
);     
ALTER TABLE PUBLIC.JHI_USER_AUTHORITY ADD CONSTRAINT PUBLIC.CONSTRAINT_E PRIMARY KEY(USER_ID, AUTHORITY_NAME);
-- 5 +/- SELECT COUNT(*) FROM PUBLIC.JHI_USER_AUTHORITY;      
INSERT INTO PUBLIC.JHI_USER_AUTHORITY(USER_ID, AUTHORITY_NAME) VALUES
(1, 'ROLE_ADMIN'),
(1, 'ROLE_USER'),
(3, 'ROLE_ADMIN'),
(3, 'ROLE_USER'),
(4, 'ROLE_USER');        
CREATE CACHED TABLE PUBLIC.JHI_PERSISTENT_TOKEN(
    SERIES VARCHAR(76) NOT NULL,
    USER_ID BIGINT,
    TOKEN_VALUE VARCHAR(76) NOT NULL,
    TOKEN_DATE DATE,
    IP_ADDRESS VARCHAR(39),
    USER_AGENT VARCHAR(255)
);            
ALTER TABLE PUBLIC.JHI_PERSISTENT_TOKEN ADD CONSTRAINT PUBLIC.PK_JHI_PERSISTENT_TOKEN PRIMARY KEY(SERIES);    
-- 1 +/- SELECT COUNT(*) FROM PUBLIC.JHI_PERSISTENT_TOKEN;    
INSERT INTO PUBLIC.JHI_PERSISTENT_TOKEN(SERIES, USER_ID, TOKEN_VALUE, TOKEN_DATE, IP_ADDRESS, USER_AGENT) VALUES
('5wxxxUR+u4e9n+Hv295RKg==', 3, 'rc/QxEUCB2AzB8VorzoeAw==', DATE '2016-12-18', '127.0.0.1', 'Mozilla/5.0 (Windows NT 10.0; WOW64; rv:50.0) Gecko/20100101 Firefox/50.0');   
CREATE CACHED TABLE PUBLIC.JHI_PERSISTENT_AUDIT_EVENT(
    EVENT_ID BIGINT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_F5A21D56_B0EE_4B4D_8D89_C57794A8B047) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_F5A21D56_B0EE_4B4D_8D89_C57794A8B047,
    PRINCIPAL VARCHAR(50) NOT NULL,
    EVENT_DATE TIMESTAMP,
    EVENT_TYPE VARCHAR(255)
);              
ALTER TABLE PUBLIC.JHI_PERSISTENT_AUDIT_EVENT ADD CONSTRAINT PUBLIC.PK_JHI_PERSISTENT_AUDIT_EVENT PRIMARY KEY(EVENT_ID);      
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.JHI_PERSISTENT_AUDIT_EVENT;              
INSERT INTO PUBLIC.JHI_PERSISTENT_AUDIT_EVENT(EVENT_ID, PRINCIPAL, EVENT_DATE, EVENT_TYPE) VALUES
(1, 'user', TIMESTAMP '2016-12-18 17:48:20.829', 'AUTHENTICATION_SUCCESS'),
(2, 'admin', TIMESTAMP '2016-12-18 17:51:26.44', 'AUTHENTICATION_SUCCESS');   
CREATE INDEX PUBLIC.IDX_PERSISTENT_AUDIT_EVENT ON PUBLIC.JHI_PERSISTENT_AUDIT_EVENT(PRINCIPAL, EVENT_DATE);   
CREATE CACHED TABLE PUBLIC.JHI_PERSISTENT_AUDIT_EVT_DATA(
    EVENT_ID BIGINT NOT NULL,
    NAME VARCHAR(150) NOT NULL,
    VALUE VARCHAR(255)
);         
ALTER TABLE PUBLIC.JHI_PERSISTENT_AUDIT_EVT_DATA ADD CONSTRAINT PUBLIC.CONSTRAINT_F PRIMARY KEY(EVENT_ID, NAME);              
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.JHI_PERSISTENT_AUDIT_EVT_DATA;           
INSERT INTO PUBLIC.JHI_PERSISTENT_AUDIT_EVT_DATA(EVENT_ID, NAME, VALUE) VALUES
(1, 'remoteAddress', '127.0.0.1'),
(2, 'remoteAddress', '127.0.0.1');        
CREATE INDEX PUBLIC.IDX_PERSISTENT_AUDIT_EVT_DATA ON PUBLIC.JHI_PERSISTENT_AUDIT_EVT_DATA(EVENT_ID);          
CREATE CACHED TABLE PUBLIC.REGION(
    ID BIGINT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_75EBA6F3_8E8E_427C_B940_97476D606BBA) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_75EBA6F3_8E8E_427C_B940_97476D606BBA,
    REGION_NAME VARCHAR(255) NOT NULL
);              
ALTER TABLE PUBLIC.REGION ADD CONSTRAINT PUBLIC.PK_REGION PRIMARY KEY(ID);    
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.REGION;  
CREATE CACHED TABLE PUBLIC.COLOR(
    ID BIGINT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_6154EA82_44CD_49AA_B83A_228D93BAF65F) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_6154EA82_44CD_49AA_B83A_228D93BAF65F,
    COLOR_NAME VARCHAR(255) NOT NULL
);
ALTER TABLE PUBLIC.COLOR ADD CONSTRAINT PUBLIC.PK_COLOR PRIMARY KEY(ID);      
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.COLOR;   
CREATE CACHED TABLE PUBLIC.YEAR(
    ID BIGINT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_06AF0EE8_BAA0_4967_86AD_F5DB8B7445F8) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_06AF0EE8_BAA0_4967_86AD_F5DB8B7445F8,
    NUMBER VARCHAR(255) NOT NULL
);     
ALTER TABLE PUBLIC.YEAR ADD CONSTRAINT PUBLIC.PK_YEAR PRIMARY KEY(ID);        
-- 132 +/- SELECT COUNT(*) FROM PUBLIC.YEAR;  
INSERT INTO PUBLIC.YEAR(ID, NUMBER) VALUES
(1, '1885'),
(2, '1886'),
(3, '1887'),
(4, '1888'),
(5, '1889'),
(6, '1890'),
(7, '1891'),
(8, '1892'),
(9, '1893'),
(10, '1894'),
(11, '1895'),
(12, '1896'),
(13, '1897'),
(14, '1898'),
(15, '1899'),
(16, '1900'),
(17, '1901'),
(18, '1902'),
(19, '1903'),
(20, '1904'),
(21, '1905'),
(22, '1906'),
(23, '1907'),
(24, '1908'),
(25, '1909'),
(26, '1910'),
(27, '1911'),
(28, '1912'),
(29, '1913'),
(30, '1914'),
(31, '1915'),
(32, '1916'),
(33, '1917'),
(34, '1918'),
(35, '1919'),
(36, '1920'),
(37, '1921'),
(38, '1922'),
(39, '1923'),
(40, '1924'),
(41, '1925'),
(42, '1926'),
(43, '1927'),
(44, '1928'),
(45, '1929'),
(46, '1930'),
(47, '1931'),
(48, '1932'),
(49, '1933'),
(50, '1934'),
(51, '1935'),
(52, '1936'),
(53, '1937'),
(54, '1938'),
(55, '1939'),
(56, '1940'),
(57, '1941'),
(58, '1942'),
(59, '1943'),
(60, '1944'),
(61, '1945'),
(62, '1946'),
(63, '1947'),
(64, '1948'),
(65, '1949'),
(66, '1950'),
(67, '1951'),
(68, '1952'),
(69, '1953'),
(70, '1954'),
(71, '1955'),
(72, '1956'),
(73, '1957'),
(74, '1958'),
(75, '1959'),
(76, '1960'),
(77, '1961'),
(78, '1962'),
(79, '1963'),
(80, '1964'),
(81, '1965'),
(82, '1966'),
(83, '1967'),
(84, '1968'),
(85, '1969'),
(86, '1970'),
(87, '1971'),
(88, '1972'),
(89, '1973'),
(90, '1974'),
(91, '1975'),
(92, '1976'),
(93, '1977'),
(94, '1978'),
(95, '1979'),
(96, '1980'),
(97, '1981'),
(98, '1982'),
(99, '1983'),
(100, '1984'),
(101, '1985'),
(102, '1986'),
(103, '1987'),
(104, '1988'),
(105, '1989'),
(106, '1990'),
(107, '1991'),
(108, '1992'),
(109, '1993'),
(110, '1994'),
(111, '1995'),
(112, '1996'),
(113, '1997'),
(114, '1998'),
(115, '1999'),
(116, '2000'),
(117, '2001'),
(118, '2002'),
(119, '2003'),
(120, '2004'),
(121, '2005'),
(122, '2006'),
(123, '2007'),
(124, '2008'),
(125, '2009'),
(126, '2010'),
(127, '2011'),
(128, '2012'),
(129, '2013'),
(130, '2014'),
(131, '2015'),
(132, '2016');
CREATE CACHED TABLE PUBLIC.WINE(
    ID BIGINT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_37C9D658_0823_4FA3_966F_FC01948CE083) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_37C9D658_0823_4FA3_966F_FC01948CE083,
    NAME VARCHAR(255) NOT NULL,
    APPELLATION VARCHAR(255),
    PRODUCER VARCHAR(255) NOT NULL,
    REGION_ID BIGINT,
    COLOR_ID BIGINT
);      
ALTER TABLE PUBLIC.WINE ADD CONSTRAINT PUBLIC.PK_WINE PRIMARY KEY(ID);        
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.WINE;    
CREATE CACHED TABLE PUBLIC.VINTAGE(
    ID BIGINT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_D5C4ED73_DFEC_4227_940A_C72712B74C71) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_D5C4ED73_DFEC_4227_940A_C72712B74C71,
    BARE_CODE INT,
    YEAR_ID BIGINT,
    MAX_KEEP_ID BIGINT,
    WINE_ID BIGINT
);              
ALTER TABLE PUBLIC.VINTAGE ADD CONSTRAINT PUBLIC.PK_VINTAGE PRIMARY KEY(ID);  
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.VINTAGE; 
CREATE CACHED TABLE PUBLIC.WINE_IN_CELLAR(
    ID BIGINT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_C498D05B_0D51_4FFC_B097_01FC871EE4B7) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_C498D05B_0D51_4FFC_B097_01FC871EE4B7,
    PRICE DOUBLE,
    QUANTITY INT,
    CELLAR_ID BIGINT,
    VINTAGE_ID BIGINT
);         
ALTER TABLE PUBLIC.WINE_IN_CELLAR ADD CONSTRAINT PUBLIC.PK_WINE_IN_CELLAR PRIMARY KEY(ID);    
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.WINE_IN_CELLAR;          
CREATE CACHED TABLE PUBLIC.CELLAR(
    ID BIGINT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_F4EFF45F_941B_476F_BFC0_B7A493ACCB16) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_F4EFF45F_941B_476F_BFC0_B7A493ACCB16,
    CAPACITY INT,
    USER_ID BIGINT
);              
ALTER TABLE PUBLIC.CELLAR ADD CONSTRAINT PUBLIC.PK_CELLAR PRIMARY KEY(ID);    
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.CELLAR;  
ALTER TABLE PUBLIC.JHI_USER ADD CONSTRAINT PUBLIC.CONSTRAINT_69 UNIQUE(LOGIN);
ALTER TABLE PUBLIC.JHI_USER ADD CONSTRAINT PUBLIC.CONSTRAINT_6 UNIQUE(EMAIL); 
ALTER TABLE PUBLIC.CELLAR ADD CONSTRAINT PUBLIC.CONSTRAINT_7 UNIQUE(USER_ID); 
ALTER TABLE PUBLIC.VINTAGE ADD CONSTRAINT PUBLIC.FK_VINTAGE_YEAR_ID FOREIGN KEY(YEAR_ID) REFERENCES PUBLIC.YEAR(ID) NOCHECK;  
ALTER TABLE PUBLIC.JHI_PERSISTENT_TOKEN ADD CONSTRAINT PUBLIC.FK_USER_PERSISTENT_TOKEN FOREIGN KEY(USER_ID) REFERENCES PUBLIC.JHI_USER(ID) NOCHECK;           
ALTER TABLE PUBLIC.JHI_PERSISTENT_AUDIT_EVT_DATA ADD CONSTRAINT PUBLIC.FK_EVT_PERS_AUDIT_EVT_DATA FOREIGN KEY(EVENT_ID) REFERENCES PUBLIC.JHI_PERSISTENT_AUDIT_EVENT(EVENT_ID) NOCHECK;       
ALTER TABLE PUBLIC.CELLAR ADD CONSTRAINT PUBLIC.FK_CELLAR_USER_ID FOREIGN KEY(USER_ID) REFERENCES PUBLIC.JHI_USER(ID) NOCHECK;
ALTER TABLE PUBLIC.WINE_IN_CELLAR ADD CONSTRAINT PUBLIC.FK_WINE_IN_CELLAR_VINTAGE_ID FOREIGN KEY(VINTAGE_ID) REFERENCES PUBLIC.VINTAGE(ID) NOCHECK;           
ALTER TABLE PUBLIC.WINE ADD CONSTRAINT PUBLIC.FK_WINE_COLOR_ID FOREIGN KEY(COLOR_ID) REFERENCES PUBLIC.COLOR(ID) NOCHECK;     
ALTER TABLE PUBLIC.VINTAGE ADD CONSTRAINT PUBLIC.FK_VINTAGE_MAX_KEEP_ID FOREIGN KEY(MAX_KEEP_ID) REFERENCES PUBLIC.YEAR(ID) NOCHECK;          
ALTER TABLE PUBLIC.WINE_IN_CELLAR ADD CONSTRAINT PUBLIC.FK_WINE_IN_CELLAR_CELLAR_ID FOREIGN KEY(CELLAR_ID) REFERENCES PUBLIC.CELLAR(ID) NOCHECK;              
ALTER TABLE PUBLIC.JHI_USER_AUTHORITY ADD CONSTRAINT PUBLIC.FK_USER_ID FOREIGN KEY(USER_ID) REFERENCES PUBLIC.JHI_USER(ID) NOCHECK;           
ALTER TABLE PUBLIC.WINE ADD CONSTRAINT PUBLIC.FK_WINE_REGION_ID FOREIGN KEY(REGION_ID) REFERENCES PUBLIC.REGION(ID) NOCHECK;  
ALTER TABLE PUBLIC.VINTAGE ADD CONSTRAINT PUBLIC.FK_VINTAGE_WINE_ID FOREIGN KEY(WINE_ID) REFERENCES PUBLIC.WINE(ID) NOCHECK;  
ALTER TABLE PUBLIC.JHI_USER_AUTHORITY ADD CONSTRAINT PUBLIC.FK_AUTHORITY_NAME FOREIGN KEY(AUTHORITY_NAME) REFERENCES PUBLIC.JHI_AUTHORITY(NAME) NOCHECK;      
